<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">

    <title>GAT Replay Engine - Sample</title>

    <!--[if lt IE 9]>
      <script src="../lib/excanvas.js"></script>
    <![endif]-->

    <script src="../libs/fabric.min.js"></script>
    <script src="../src/gat-replay-engine.js"></script>
    <script src="../src/gat-replay-truco.js"></script>
</head>

<body>
    <h1>GAT Replay Engine - Sample</h1>

    <canvas id="canvas" width="640" height="480" style="border:1px solid #ccc"></canvas>

    <button type="button" onclick="replay.play();">&#9654;</button>
    <button type="button" onclick="replay.pause();">&#9646;&#9646;</button>
    <button type="button" onclick="replay.stop();">&#9724;</button>
    <button type="button" onclick="replay.increaseSpeed();">+</button>
    <button type="button" onclick="replay.decreaseSpeed();">-</button>

    <script id="main">
        var canvas = new fabric.StaticCanvas('canvas', { backgroundColor: "rgba(1, 1, 1, 1)"});
        var commands = '[  \
        {"name":"start_game", "args":{"p1":"Player1", "p2":"Player2"}}, \
        {"name":"start_round", "args":{"p1":[{"suit":1, "symbol":1}, {"suit":1, "symbol":1}, {"suit":1, "symbol":1}], "p2":[{"suit":1, "symbol":1}, {"suit":1, "symbol":1}, {"suit":1, "symbol":1}], "center_card":{"suit":2, "symbol":1}  }}, \
        {"player":"p1","name":"upcard", "args":{"card":{"suit":1, "symbol":1}}}, \
        {"player":"p2","name":"upcard", "args":{"card":{"suit":1, "symbol":1}}}, \
        {"player":"p1","name":"upcard", "args":{"card":{"suit":1, "symbol":1}}}, \
        {"player":"p2","name":"upcard", "args":{"card":{"suit":1, "symbol":1}}}, \
        {"player":"p1","name":"upcard", "args":{"card":{"suit":1, "symbol":1}}}, \
        {"player":"p2","name":"upcard", "args":{"card":{"suit":1, "symbol":1}}}, \
        {"name":"end_round", "args":{"winner":"p1", "loser":"p2"}}, \
        {"name":"start_round", "args":{"p1":[{"suit":1, "symbol":1}, {"suit":1, "symbol":1}, {"suit":1, "symbol":1}], "p2":[{"suit":1, "symbol":1}, {"suit":1, "symbol":1}, {"suit":1, "symbol":1}], "center_card":{"suit":2, "symbol":1} }}, \
        {"player":"p1","name":"truco"}, \
        {"player":"p2","name":"accept"}, \
        {"player":"p1","name":"upcard", "args":{"card":{"suit":1, "symbol":1}}}, \
        {"player":"p2","name":"truco"}, \
        {"player":"p1","name":"accept"}, \
        {"player":"p2","name":"upcard", "args":{"card":{"suit":1, "symbol":1}}}, \
        {"player":"p1","name":"truco"}, \
        {"player":"p2","name":"reject"}, \
        {"name":"end_round", "args":{"winner":"p1", "loser":"p2"}}, \
        {"name":"end_game", "args":{"winner":"p1", "loser":"p2"}}]';
        commands = JSON.parse(commands);
        var replay = new GATReplay({ commands: commands });
        var replay = new Truco({ commands: commands });
        canvas.add(replay);
        replay.center();
        replay.play();
    </script>

</body>

</html>