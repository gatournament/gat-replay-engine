var Truco=fabric.util.createClass(GATReplay,{type:"Truco",initialize:function(e,t,a){this.callSuper("initialize",e,t,a),this.table=new Deck({width:200,height:200,fill:"#ddd"}),this.centerCard=new Deck({left:-180}),this.add(this.table),this.add(this.centerCard)},_playerComponent:function(e){var t=Object.keys(this.players).length;switch(t){case 0:return new Deck({top:-175,text:e});case 1:return new Deck({top:175,text:e});case 2:return new Deck({left:-400,text:e});case 3:return new Deck({left:220,text:e});default:return new Deck({})}},_applyCustomCommand:function(e){var t=this.players[e.player];switch(e.name){case"Upcard":var a=e.args.card;this._upcard(t,a.suit,a.rank);break;case"Truco":this._addPlayerMessage("Truco!",t.left,t.top);break;case"Accept":this._addPlayerMessage("Truco accepted!",t.left,t.top);break;case"Reject":this._addPlayerMessage("I do not accept the Truco!",t.left,t.top)}},_startRound:function(e){this.callSuper("_startRound",e),players=this.getPlayers();for(var t in players){var a=players[t];this.players[a].addCards(e.args[a])}this.centerCard.addCards([e.args.center_card])},_endRound:function(){for(var e in this.players)this.players[e].removeAll();this.centerCard.removeAll(),this.table.removeAll()},_upcard:function(e,t,a){var r=e.getCard(t,a);e.moveCard(r,this.table)}});